(()=>{"use strict";let e="d79e50c4aee629bdc2fcaa74795b684a";function t(e){let t=document.getElementById("scaleChange");feelsLike.innerText="Feels like : ",t.checked?(temperature.innerText=o(e.main.temp)+"°F",feelsLike.innerText+=o(e.main.feels_like)+"°F"):(temperature.innerText=n(e.main.temp)+"°C",feelsLike.innerText+=n(e.main.feels_like)+"°C")}function n(e){return Math.round(e-273.15)}function o(e){return Math.round(9*(e-273.15)/5+32)}function i(e,t){scaleChange.checked?e.innerText=o(t.main.temp)+"°F":e.innerText=n(t.main.temp)+"°C"}function r(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}let c,a="London",l=document.getElementById("locationForm"),d=document.querySelector("nav"),s=document.getElementById("prev"),m=document.getElementById("next"),u=document.getElementById("forecastHourly");function f(){(async function(){let e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${a}&appid=d79e50c4aee629bdc2fcaa74795b684a`,{mode:"cors"});return c=await e.json(),c})().then((n=>{var o;n.name?(o=n,document.getElementById("location").innerText=o.name+", "+o.sys.country,function(e){document.getElementById("icon").src=r(e.weather[0].icon)}(o),function(e){let t=document.getElementById("description"),n=e.weather[0].description;t.innerText=n}(o),t(o),async function(e){document.getElementById("scaleChange").addEventListener("click",(()=>{t(e)}))}(o),function(t){let n=document.getElementById("scaleChange");(async function(t){let n=t.coord.lat,o=t.coord.lon,i=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${n}&lon=${o}&appid=${e}`,{mode:"cors"});return await i.json()})(t).then((e=>{console.log(e);for(let t=1;t<9;t++){let o=document.getElementById(`${t}`),c=o.querySelector(".hour"),a=o.querySelector("img"),l=e.list[t].weather[0].icon;o.querySelector(".description").innerText=e.list[t].weather[0].description,a.src=r(l),c.innerText=e.list[t].dt_txt.slice(10,16);let d=o.querySelector(".hourTemp");i(d,e.list[t]),n.addEventListener("change",(()=>{i(d,e.list[t])}))}document.getElementById("forecastHourlyContainer").classList.remove("hidden"),document.getElementById("infoContainer").classList.remove("hidden")}))}(o)):alert("We do not provide information for this location!")}))}s.addEventListener("click",(()=>{u.scrollLeft-=200})),m.addEventListener("click",(()=>{u.scrollLeft+=200})),window.innerWidth<500&&(d.style.flexDirection="column"),window.addEventListener("resize",(()=>{window.innerWidth<500?d.style.flexDirection="column":d.style.flexDirection="row"})),f(),l.addEventListener("submit",(e=>{a=function(){let e=document.getElementById("newLocation"),t=e.value;return e.value="",t}(),f(),e.preventDefault()}))})();